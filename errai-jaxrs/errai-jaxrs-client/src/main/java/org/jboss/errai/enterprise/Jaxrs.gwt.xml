<!DOCTYPE module PUBLIC "-//Google Inc.//DTD Google Web Toolkit 1.6//EN"
        "http://google-web-toolkit.googlecode.com/svn/releases/1.6/distro-source/core/src/gwt-module.dtd">

<module>
  <inherits name="com.google.gwt.http.HTTP" />
  <inherits name="com.google.common.collect.Collect" />
  <inherits name="org.jboss.errai.common.ErraiCommon" />
  <inherits name="org.jboss.errai.marshalling.ErraiMarshalling" />
  <inherits name="javax.ws.rs.Annotations"/>

  <entry-point class='org.jboss.errai.enterprise.client.jaxrs.JaxrsModule' />

  <define-property name="errai.jaxrs.useAptGenerators" values="false,true"/>
  <set-property name="errai.jaxrs.useAptGenerators" value="false"/>

  <generate-with class="org.jboss.errai.enterprise.rebind.JaxrsProxyLoaderGenerator">
    <when-type-assignable class="org.jboss.errai.enterprise.client.jaxrs.JaxrsProxyLoader" />
    <when-property-is name="errai.jaxrs.useAptGenerators" value="false" />
  </generate-with>

  <replace-with class="org.jboss.errai.enterprise.rebind.JaxrsProxyLoaderImpl">
    <when-type-assignable class="org.jboss.errai.enterprise.client.jaxrs.JaxrsProxyLoader" />
    <when-property-is name="errai.jaxrs.useAptGenerators" value="true" />
  </replace-with>

  <super-source path="compat" />
  <source path="client" />
</module>